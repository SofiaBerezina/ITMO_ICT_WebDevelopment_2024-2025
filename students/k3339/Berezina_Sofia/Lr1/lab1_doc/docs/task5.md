# Задание № 5. Реализация HTTP-сервера для управления оценками

## Задача
Мне нужно было создать веб-сервер, который может принимать и хранить информацию об оценках по дисциплинам, а также отображать ее через браузер. Это было самое сложное задание из всех, так как требовало глубокого понимания HTTP-протокола и организации веб-приложений.

### 1. Реализация серверной части

Начала я с создания класса MyHTTPServer, который инкапсулирует всю логику работы сервера. В конструкторе инициализируются базовые параметры: хост, порт и имя сервера, а также создается словарь grades для хранения оценок.

Основной метод serve_forever создает TCP-сокет и запускает бесконечный цикл обработки подключений. Я использовала блок try-finally чтобы гарантировать закрытие сокета даже при возникновении ошибок.

Самой сложной частью была обработка HTTP-запросов. Метод parse_request читает запрос построчно, используя file-like объект сокета. Сначала парсится первая строка с методом и путем, затем заголовки, а для POST-запросов - тело сообщения.

Особое внимание уделила обработке POST-данных. Мне пришлось разбираться с URL-encoding, так как русские символы в формах передаются в закодированном виде. Для этого использовала функцию unquote из urllib.parse.

### 2. Реализация логики

Для обработки GET-запросов на главную страницу создала метод handle_get, который генерирует HTML-страницу со списком оценок и формой для добавления новых. Страница динамически формируется на основе данных в словаре grades.

Метод handle_post обрабатывает данные из формы. Я извлекаю параметры subject и grade, декодирую их и добавляю в словарь оценок. После успешного добавления сервер возвращает статус 303 с перенаправлением на главную страницу.

Важной особенностью было правильное формирование HTTP-ответов. Метод send_response аккуратно собирает статусную строку, заголовки и тело ответа, соблюдая все требования стандарта HTTP.